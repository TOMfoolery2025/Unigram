# ============================================================================
# TUM Community Platform (Unigram) - Environment Configuration
# ============================================================================
# This file documents all environment variables used in the application.
# Copy this file to .env.local and fill in your actual values.
# Never commit .env.local to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Supabase Configuration (REQUIRED)
# ----------------------------------------------------------------------------
# Supabase is the backend database and authentication service.
# Get these values from your Supabase project settings:
# https://app.supabase.com/project/YOUR_PROJECT/settings/api

# Your Supabase project URL
# Format: https://YOUR_PROJECT_ID.supabase.co
# Used by: All Supabase client instances (browser, server, middleware)
NEXT_PUBLIC_SUPABASE_URL=your-project-url

# Your Supabase anonymous (public) key
# This key is safe to expose in the browser as it respects Row Level Security (RLS)
# Used by: All Supabase client instances for authentication and data access
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

# ----------------------------------------------------------------------------
# Supabase Service Role Key (OPTIONAL - Admin Operations Only)
# ----------------------------------------------------------------------------
# WARNING: This key bypasses Row Level Security. Never expose it to the browser!
# Only use in server-side code for admin operations.
# Used by: Admin scripts, migrations, or server-side admin operations
# SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ----------------------------------------------------------------------------
# Hygraph CMS Configuration (REQUIRED for Wiki Feature)
# ----------------------------------------------------------------------------
# Hygraph is the headless CMS used for the wiki/knowledge base feature.
# Get these values from your Hygraph project settings:
# https://app.hygraph.com/YOUR_PROJECT/settings/api-access

# Your Hygraph GraphQL API endpoint
# Format: https://api-REGION.hygraph.com/v2/PROJECT_ID/ENVIRONMENT
# Example: https://api-eu-central-1.hygraph.com/v2/clx123abc/master
# Used by: Wiki API routes and components
NEXT_PUBLIC_HYGRAPH_ENDPOINT=https://api-region.hygraph.com/v2/project-id/master

# Your Hygraph Permanent Auth Token
# Create a token with read permissions for public content
# Used by: Server-side Hygraph client for fetching wiki content
HYGRAPH_TOKEN=your-permanent-auth-token

# ----------------------------------------------------------------------------
# Application Configuration (OPTIONAL)
# ----------------------------------------------------------------------------

# Your application's public URL (used for CORS and redirects)
# Format: https://yourdomain.com (no trailing slash)
# Default: * (allows all origins - not recommended for production)
# Used by: CORS headers in next.config.js
# NEXT_PUBLIC_APP_URL=https://yourdomain.com

# Node environment (automatically set by hosting providers)
# Values: development | production | test
# Used by: Logging, error handling, and feature flags
# NODE_ENV=production

# ----------------------------------------------------------------------------
# Validation Notes
# ----------------------------------------------------------------------------
# Required variables (application will not start without these):
# - NEXT_PUBLIC_SUPABASE_URL
# - NEXT_PUBLIC_SUPABASE_ANON_KEY
# - NEXT_PUBLIC_HYGRAPH_ENDPOINT
# - HYGRAPH_TOKEN
#
# Optional variables (application will work with defaults):
# - NEXT_PUBLIC_APP_URL (defaults to * for CORS)
# - SUPABASE_SERVICE_ROLE_KEY (only needed for admin operations)
# - NODE_ENV (automatically set by hosting providers)
#
# Security reminders:
# 1. Never commit .env.local or any file containing actual secrets
# 2. Rotate tokens regularly, especially if exposed
# 3. Use different credentials for development and production
# 4. Keep SUPABASE_SERVICE_ROLE_KEY secret - it bypasses all security rules
# 5. Ensure your Supabase RLS policies are properly configured
# ============================================================================
